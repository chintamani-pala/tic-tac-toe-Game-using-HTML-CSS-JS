<!--<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" type="text/css" href="jquery.countdownTimer.css" />
  <title>Tic Tac Toe Game Using HTML CSS JS</title>
</head>

<body>
  <div class="home" id="home">
    <div id="particles-js"></div>
    <div id="containermain">
      <div class="content">
        <marquee style="color: #9c9388a1" direction="left" scrollamount="3">Created By
          <b><a style="text-decoration: none; color: aqua" href="https://github.com/chintamani-pala/">Chintamani
              Pala</a> </b><span id="contactspan"></span>
        </marquee>
        <div class="contentchild">
          <div class="box btop-0 bleft-0"><span class="boxitem"></span></div>
          <div class="box btop-0"><span class="boxitem"></span></div>
          <div class="box btop-0 bright-0"><span class="boxitem"></span></div>
          <div class="box bleft-0"><span class="boxitem"></span></div>
          <div class="box"><span class="boxitem"></span></div>
          <div class="box bright-0"><span class="boxitem"></span></div>
          <div class="box bleft-0 bbottom-0"><span class="boxitem"></span></div>
          <div class="box bbottom-0"><span class="boxitem"></span></div>
          <div class="box bbottom-0 bright-0"><span class="boxitem"></span></div>
        </div>
        <div class="gamecontrol">
          <span class="turn" id="alertturn">Turn For X</span>
          <span class="turn" id="draw"></span>
          <button class="button" id="reset">Restart</button>
        </div>
      </div>
      
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="assets/js/particles.min.js"></script>
  <script src="assets/js/app.js"></script>
  <script src="assets/js/script.js"></script>
  <script src="assets/js/security.js"></script>


</body>

</html>-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" type="text/css" href="jquery.countdownTimer.css" />
  <title>Tic Tac Toe Game Using HTML CSS JS</title>
</head>
<body>
  <div class="home" id="home">
    <div id="particles-js"></div>
    <div id="containermain">
      <div class="content">
        <marquee style="color: #9c9388a1" direction="left" scrollamount="3">Created By
          <b><a style="text-decoration: none; color: aqua" href="https://github.com/chintamani-pala/">Chintamani
              Pala</a> </b><span id="contactspan"></span>
        </marquee>
        <div class="contentchild">
          <div class="box btop-0 bleft-0"><span class="boxitem"></span></div>
          <div class="box btop-0"><span class="boxitem"></span></div>
          <div class="box btop-0 bright-0"><span class="boxitem"></span></div>
          <div class="box bleft-0"><span class="boxitem"></span></div>
          <div class="box"><span class="boxitem"></span></div>
          <div class="box bright-0"><span class="boxitem"></span></div>
          <div class="box bleft-0 bbottom-0"><span class="boxitem"></span></div>
          <div class="box bbottom-0"><span class="boxitem"></span></div>
          <div class="box bbottom-0 bright-0"><span class="boxitem"></span></div>
        </div>
    <div class="gamecontrol">
      <span class="turn" id="alertturn">Turn For X</span>
      <span class="turn" id="draw"></span>
      <button class="button" id="reset">Restart</button>
      <button class="button" id="playWithAI">Play with AI</button> <!-- New button for playing with AI -->
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="assets/js/particles.min.js"></script>
  <script src="assets/js/app.js"></script>
  <script src="assets/js/script.js"></script>
  <script src="assets/js/security.js"></script>
  <script>
    let box = document.getElementsByClassName("box");
    let over = false;
    let turn = "X";
    let successSound = new Audio("assets/sounds/success.mp3");
    let failSound = new Audio("assets/sounds/fail.mp3");
    let ticSound = new Audio("assets/sounds/tic1.mp3");
    ticSound.playbackRate = 1.7;

    // Your existing JavaScript functions...

    function resetGame() {
      successSound.currentTime = 0;
      successSound.pause();
      failSound.currentTime = 0;
      failSound.pause();
      over = false;
      turn = "X";
      let boxitem = document.getElementsByClassName('boxitem');
      for (i = 0; i < 9; i++) {
        boxitem[i].innerHTML = "";
        over = false;
        document.getElementById("alertturn").innerHTML = "Turn For X";
        boxitem[i].style.cssText = "color:white; font-size: 8vw;  text-shadow:0 0 0px #0000,0 0 0px #0000,0 0 px #000,0 0 0px #0000,0 0 0px #000,0 0 0px #0000,0 0 0px #0000,0 0 0px #0000;";
      }
      document.getElementById('playWithAI').disabled = false; // Enable the AI play button after game reset
    }

    Array.from(box).forEach((ele) => {
      let boxitem = ele.getElementsByClassName("boxitem")[0];
      ele.addEventListener("click", () => {
        if (boxitem.innerHTML == "" && !over && turn === "X") {
          ticSound.play();
          boxitem.style.color = "red";
          boxitem.innerHTML = turn;
          changeTurn();
          document.getElementById("alertturn").innerHTML = `Turn For ${turn}`;
          checkWin();
          makeAIMove();
        }
      });
    });

    let reset = document.getElementById("reset");
    reset.addEventListener("click", () => {
      resetGame();
    });

    document.getElementById('playWithAI').addEventListener('click', () => {
      resetGame();
      document.getElementById('alertturn').innerHTML = 'Turn For X';
      document.getElementById('playWithAI').disabled = true;
    });

    function makeAIMove() {
      let emptyCells = [];
      const boxitem = document.querySelectorAll(".boxitem");
      boxitem.forEach((cell, index) => {
        if (cell.innerHTML === "") {
          emptyCells.push(index);
        }
      });

      const randomIndex = Math.floor(Math.random() * emptyCells.length);
      const selectedCell = emptyCells[randomIndex];

      setTimeout(() => {
        if (selectedCell !== undefined) {
          boxitem[selectedCell].innerHTML = "O"; // Assuming AI plays 'O'
          changeTurn();
          document.getElementById("alertturn").innerHTML = `Turn For ${turn}`;
          checkWin();
        }
      }, 500);
    }
  </script>
</body>
</html>
